!function(){"use strict";var t=wp.media.View.extend({tagName:"input",className:"attachment-filters",id:"media-attachment-alt-filter",attributes:{type:"checkbox"},events:{click:"click"},render:function(){return this.el.value="no_alt",this.el.checked=this.model.escape("click"),this},click:function(t){t.target.checked?this.model.set(t.target.value,!0):this.model.unset(t.target.value)}}),e=wp.media.view.AttachmentFilters.extend({id:"media-attachment-author-filter",createFilters:function(){var a={};_.each(MediaLibraryAuthorFilterData.authors||{},function(t,e){a[e]={text:t.display_name,props:{author:t.ID}}}),a.all={text:MediaLibraryAdditionalFilterLabels.authorsAll,props:{author:""},priority:10},this.filters=a}}),a=wp.media.view.AttachmentsBrowser;wp.media.view.AttachmentsBrowser=a.extend({createToolbar:function(){a.prototype.createToolbar.call(this),this.toolbar.set("MediaLibraryAltFilter",new t({controller:this.controller,model:this.collection.props,priority:-74}).render()),this.toolbar.set("altFilterLabel",new wp.media.view.Label({className:"attachment-filters-label",value:MediaLibraryAdditionalFilterLabels.alt,attributes:{for:"media-attachment-alt-filter"},priority:-73}).render()),this.toolbar.set("MediaLibraryAuthorFilter",new e({controller:this.controller,model:this.collection.props,priority:-75}).render()),this.toolbar.set("authorFilterLabel",new wp.media.view.Label({value:MediaLibraryAdditionalFilterLabels.authors,attributes:{for:"media-attachment-author-filter"},priority:-76}).render())}})}(),function(){"use strict";var e=function(t){var e="boolean"==typeof t&&t,i=document.querySelector(".media-frame-toolbar .media-toolbar-primary"),a=document.querySelectorAll('.media-frame-content ul.attachments li[aria-checked="true"]'),l=!0,o=[];if(document.querySelectorAll(".fu-needs-alt-text").forEach(function(t){t.classList.remove("fu-needs-alt-text")}),0===a.length){var r,n,s=document.querySelector(".attachment-details");if(s&&(r=s.getAttribute("data-id")),void 0!==r){n=wp.media.model.Attachment.get(r).get("alt")}else{var c=document.querySelector('.media-modal-content label[data-setting="alt"] input'),d=document.querySelector('.media-frame-content input[data-setting="alt"]');c?n=c.value:d&&(n=d.value)}return!document.querySelector(".media-sidebar.visible")||n.length&&0<n.length?(i.classList.add("fu-has-alt-text"),!0):(i.classList.remove("fu-has-alt-text"),e&&alert(AltTagsCopy.editTxst),!1)}if(a.forEach(function(t){var e=t.getAttribute("data-id"),a=wp.media.model.Attachment.get(e),r=a.get("alt");void 0!==e&&(r.length||"image"!==a.get("type")?(i.classList.add("fu-has-alt-text"),t.classList.remove("fu-needs-alt-text")):(t.classList.add("fu-needs-alt-text"),o.push(a.get("title")),l=!1))}),!1===l){if(i.classList.remove("fu-has-alt-text"),e){for(var u="\n\n",m=0,h=o.length;m<h;m++)u=u+o[m]+"\n\n";alert(AltTagsCopy.disclaimer+"\n\n"+AltTagsCopy.txt+":"+u)}return!1}return!0},t=function(t,e,o,n){var s="string"==typeof t?document.querySelector(t):t;e.split(" ").forEach(function(t){s.addEventListener(t,function(t){for(var e=s.querySelectorAll(o),a=t.target,r=0;r<e.length;r++)for(var i=a,l=e[r];i&&i!==s;){if(i===l)return n.call(l,t);i=i.parentNode}})})};document.addEventListener("DOMContentLoaded",function(){t("body","keyup",'.media-modal-content label[data-setting="alt"] input, .media-frame-content input[data-setting="alt"]',e),t("body","mouseover click",".media-frame-toolbar .media-toolbar-primary",function(t){e("click"===t.type)})})}();